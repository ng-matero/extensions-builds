{"version":3,"file":"mtxCheckboxGroup.js","sources":["ng://@ng-matero/extensions/checkbox-group/checkbox-group.component.ts","ng://@ng-matero/extensions/checkbox-group/checkbox-group.module.ts","ng://@ng-matero/extensions/checkbox-group/checkbox-group.interface.ts"],"sourcesContent":["import {\n  Component,\n  OnInit,\n  ChangeDetectionStrategy,\n  ViewEncapsulation,\n  Input,\n  Output,\n  EventEmitter,\n  ChangeDetectorRef,\n  forwardRef,\n} from '@angular/core';\nimport { NG_VALUE_ACCESSOR, ControlValueAccessor } from '@angular/forms';\n\nimport { MtxCheckboxGroupOption } from './checkbox-group.interface';\n\n@Component({\n  selector: 'mtx-checkbox-group',\n  exportAs: 'mtxCheckboxGroup',\n  host: {\n    class: 'mtx-checkbox-group'\n  },\n  templateUrl: './checkbox-group.component.html',\n  styleUrls: ['./checkbox-group.component.scss'],\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => MtxCheckboxGroupComponent),\n      multi: true,\n    },\n  ],\n})\nexport class MtxCheckboxGroupComponent implements OnInit, ControlValueAccessor {\n  @Input() selectAllLabel = 'Select All';\n  @Input() showSelectAll = true;\n\n  @Output() change = new EventEmitter<{\n    model: MtxCheckboxGroupOption[];\n    index: number;\n  }>();\n\n  selectAll = false;\n  selectAllIndeterminate = false;\n\n  options: MtxCheckboxGroupOption[] = [];\n\n  onChange: (value: MtxCheckboxGroupOption[]) => void = () => null;\n  onTouched: () => void = () => null;\n\n  constructor(private _changeDetectorRef: ChangeDetectorRef) { }\n\n  ngOnInit() { }\n\n  writeValue(value: MtxCheckboxGroupOption[]): void {\n    this.options = value;\n    if (this.options) {\n      this.updateSingleChecked();\n    }\n    this._changeDetectorRef.markForCheck();\n  }\n\n  registerOnChange(fn: (value: MtxCheckboxGroupOption[]) => {}): void {\n    this.onChange = fn;\n  }\n\n  registerOnTouched(fn: () => {}): void {\n    this.onTouched = fn;\n  }\n\n  updateSingleChecked(e?: boolean, index?: number): void {\n    if (this.options.filter(item => item.checked || !item.disabled).every(item => !item.checked)) {\n      this.selectAll = false;\n      this.selectAllIndeterminate = false;\n    } else if (\n      this.options.filter(item => item.checked || !item.disabled).every(item => item.checked)\n    ) {\n      this.selectAll = true;\n      this.selectAllIndeterminate = false;\n    } else {\n      this.selectAllIndeterminate = true;\n    }\n\n    this.change.emit({\n      model: this.options,\n      index,\n    });\n  }\n\n  updateAllChecked(e?: boolean, index?: number): void {\n    this.selectAll = !this.selectAll;\n    this.selectAllIndeterminate = false;\n    if (this.selectAll) {\n      this.options\n        .filter(item => item.checked || !item.disabled)\n        .forEach(item => (item.checked = true));\n    } else {\n      this.options\n        .filter(item => item.checked || !item.disabled)\n        .forEach(item => (item.checked = !!item.disabled));\n    }\n\n    this.change.emit({\n      model: this.options,\n      index,\n    });\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\n\nimport { MtxCheckboxGroupComponent } from './checkbox-group.component';\n\n@NgModule({\n  imports: [CommonModule, FormsModule, MatCheckboxModule],\n  exports: [MtxCheckboxGroupComponent],\n  declarations: [MtxCheckboxGroupComponent],\n})\nexport class MtxCheckboxGroupModule { }\n","export interface MtxCheckboxGroupOption {\n  label: string;\n  value: string;\n  checked?: boolean;\n  disabled?: boolean;\n}\n"],"names":[],"mappings":"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"}